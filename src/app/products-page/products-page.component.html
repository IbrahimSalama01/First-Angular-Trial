<div class="flex flex-col items-center mt-4">
  <div class="flex items-center self-end gap-4 pe-10">
    <p class="font-bold text-lg">Categories:</p>
    <p-select [options]="categories" [(ngModel)]="selectedCategory" (onChange)="categoryChanged()"></p-select>
  </div>
  <h2 class="font-bold text-2xl mt-4"> {{selectedCategory}}</h2>
  <div class="flex flex-wrap justify-center px-2 w-full">
    @for(product of selectedCategoryProducts;track product.id){
    <app-product-card
      class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4"
      [product]="product"
    ></app-product-card>
    }
  </div>
  @defer (on viewport) {
  <h2 class="font-bold text-2xl mt-4"> AllProducts</h2>
  <div class="flex flex-wrap justify-center px-2">

      @for(product of products;track product.id){
      <app-product-card
        class="w-full md:w-1/2 lg:w-1/3 xl:w-1/4"
        [product]="product"
      ></app-product-card>
      }
  </div>
  } @placeholder(minimum 5s) {
  <h3 class="mx-auto my-4 text-lg font-bold">Loading...</h3>
  }
</div>
